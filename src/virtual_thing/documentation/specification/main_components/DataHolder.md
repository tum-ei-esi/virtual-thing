# DataHolder
All value instances, i.e. variables, constants, etc.

## Schema

Extends [DataSchema] with the following differences:
- the properties that are irrelevant for data validation are ignored by the [Engine]
- there are additional properties (in the table below).

| Property | Description | Mandatory | Type | Default |
|----------|-------------|:---------:|------|:-------:|
| default | Default value to initialize. | | any | |
| fake | Indicates whether the value should be faked. Faking the value means, that each `read` operation performed by the [Engine] on the `DataHolder instance` will return a new random value in compliance with the schema of that instance. | | `boolean` | false |
| schema | A valid name of a `reusable schema` (an entry from `dataSchemas` map in [VirtualThingModel]). If specified, the properties of the `reusable schema` will be inherited, but will **not** overwrite the alredy existing properties that have matching names. **Please note**: `reusable schemas` themselves can't point to other `reusable schemas`, so the `schema` property is ignored when used in a `reusable schema`. | | `string` | |

## Reset value and access rights
For an arbitrary combination of the **root** properties of a `DataHolder` instance, its initialization/reset value as well as access rights are defined by the following table:

|Priority|Root property|Property's value|Initial/reset value|Access rights|Remark|
|:------:|:--:|:--------:|-------------------|:--------:|------|
|1|const|any|Property's value|RO||
|2|fake|true|Generated by [json-schema-faker].|RO|Each `read operation` performed by the [Engine] will reset the value.|
|3|type|any valid|Instantiated by [json-schema-instantiator].|R/W||
|4|default|any|Property's value|R/W||
|5|-|-|undefined|R/W||

**!!!WARNING**: Unless the initial/reset value is instantiated by [json-schema-instantiator], only the **root** properties will define the initial/reset value and access rights, e.g.:
- with the following schema, the `DataHolder` instance will be `R/W` with an `undefined` initial/reset value:
    ```JSON
    {
        "someDataSchema": {
            "a": { "const": 5 },
            "b": { "const": 10 }
        }
    }
    ```
- whereas with the following, the `DataHolder` instance will be `RO` with the initial/reset value `{a:5, b:10}`:
    ```JSON
    {
        "someDataSchema": {
            "const": {
                "a": 5,
                "b": 10
            }        
        }
    }
    ```



[json-schema-instantiator]: https://www.npmjs.com/package/json-schema-instantiator
[json-schema-faker]: https://www.npmjs.com/package/json-schema-faker

[DataSchema]: https://www.w3.org/TR/wot-thing-description/#dataschema

[Engine]: ../Definitions.md#virtual-thing-engine-and-engine

[VirtualThingModel]: VirtualThingModel.md

